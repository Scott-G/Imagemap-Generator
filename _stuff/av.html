<html>
<head>
	<script type="text/javascript" src="jquery-1.6.2.min.js"></script>
	<script type="text/javascript" src="jquery.maphilight.min.js"></script>
	<script>
		$(document).ready(function(){
	
			$('img').click(function(e) {
				var width = e.pageX;
				var height = e.pageY;
				
				if($('#imagemap4posis').data('positions')) {
					var oldValue = $('#imagemap4posis').data('positions');
					$('#imagemap4posis').data('positions', oldValue+','+width+","+height);
				} else
					$('#imagemap4posis').data('positions', width+","+height);
				
				var left = width;
				var top = height;
				$('body').append('<img src="position_active.gif" style="position: absolute; left: '+left+'px; top: '+top+'px;" />');
				
				var text = '<area shape="poly" class="area1" coords="'+$('#imagemap4posis').data('positions')+'" href="#" alt="'+$('#country').val()+'" title="'+$('#country').val()+'">';
				$('#mainText').val(text);
			});
			
			/* Reset the Form */
			$('#reset').click(function() {
				$('#country').val('');
				$('#mainText').val('');
			});
			
			/* Reset the Form */
			$('#country').keyup(function() {
				var text = '<area shape="poly" class="area1" coords="'+$('#imagemap4posis').data('positions')+'" href="#" alt="'+$('#country').val()+'" title="'+$('#country').val()+'">';
				$('#mainText').val(text);
			});

			/* Highlight */
			$('.imgmapMainImage').maphilight({
				strokeColor: 'EFA577',
				alwaysOn: true,
				fillOpacity: 0.1
			});
		});
	</script>
	<style>
		body {
			margin: 0;
			padding: 0;
			background-color: #EAEAEA;
		}
		textarea#mainText {
			width: 100%;
			height: 200px;
		}
		p {
			margin: 5px 10px;
		}
		
		#imagemap4posis {
			float: left;
		}
		#mapContainer {
			float: right;
		}
	</style>
</head>
<body>
	<div id="imagemap4posis">
		<img src="karte.png" id="main" alt="" style="background-color: #fff;" />
	</div>
	<div id="mapContainer">
		<img src="karte.png" class="imgmapMainImage" width="504" height="494" border="0" alt="Karte" usemap="#Landkarte">
		<map name="Landkarte">
			<area shape="poly" class="area1" coords="286,106,330,105,341,100,344,91,346,102,352,108,352,122,364,135,354,139,349,157,343,181,338,180,337,198,333,197,331,202,337,205,346,218,342,223,336,229,319,229,313,223,306,226,300,217,294,213,289,206,285,201,277,196,274,181,268,167,271,157,274,150,279,148,280,121,286,118" href="#" alt="Ländername" title="Ländername">
			<area shape="poly" class="area1" coords="228,98,233,97,277,121,280,149,276,148,268,169,272,168,273,178,252,194,233,205,223,190,230,187,226,171,222,157,232,142,234,118" href="#" alt="" title="">
			<area shape="poly" class="area1" coords="232,232,248,231,244,258,236,267,236,277,226,286,217,288,212,284,210,288,205,279,212,280,207,273,212,273,215,267,219,273,226,273,223,254,226,249,222,246,219,248,221,240,235,243,241,233" href="#" alt="diesdasBlaa" title="diesdasBlaa">
			<!-- [...] -->
		</map>
	</div>
	<div style="clear: both;">
		<p>
			<input id="country" type="text" value="L&auml;ndername" />
			<span style="padding-left: 280px;">
				<input id="reset" type="submit" value="Reset" />
			</span>
		</p>
		<p>
			<textarea id="mainText"></textarea>
		</p>
		<p>
			<a href="http://upload.wikimedia.org/wikipedia/commons/5/59/Afrika_Kolonisation_Farben.png" target="_blank">zur Afrika-Karte</a>
		</p>
		<p>
			<a href="http://www.die-erde.com/afrika/480px-Afrika.png" target="_blank">zweite Karte</a>
		</p>
	</div>
	
	<script>
		/*
		$('area').hover(function() {
			var areaName = $(this).attr('class');
			$('#hoverImg-'+areaName).attr('href', $(this).attr('href')).fadeIn(400);
		});
		$('.imagemapHoverImg').mouseleave(function() {
			$(this).fadeOut(200);
		});
		*/
		
		/* block the area-click event*/
		$('area').click(function() {
			return false;
		});
	</script>

</body>
</html>